{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const URL = 'https://pixabay.com/api/';\nconst API_KEY = '45767028-18ffee8ca72084a8354af7c89';\n\nexport default function searchImagesByQuery(query) {\n  return fetch(\n    `${URL}?key=${API_KEY}&q=${encodeURIComponent(\n      query\n    )}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      iziToast.error({\n        position: 'topRight',\n        message: `Failed to fetch images: ${error.message}`,\n      });\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createImages(data) {\n  const lightbox = new SimpleLightbox('.gallery-list a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  const list = document.querySelector('.gallery-list');\n  let images = data.hits\n    .map(\n      hit =>\n        `<div class=\"gallery-item\"><a href=\"${hit.largeImageURL}\"><img class=\"image\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" /></a><div class =\"text-wraper\"><div class=\"text-block\"><h2>Likes</h2><p>${hit.likes}</p></div><div class=\"text-block\"><h2>Views</h2><p>${hit.views}</p></div><div class=\"text-block\"><h2>Comments</h2><p>${hit.comments}</p></div><div class=\"text-block\"><h2>Downloads</h2><p>${hit.downloads}</p></div></div></div>`\n    )\n    .join('');\n  list.insertAdjacentHTML('afterbegin', images);\n  lightbox.refresh();\n}\n\nexport function clearImages() {\n  const list = document.querySelector('.gallery-list');\n  list.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport searchImagesByQuery from './js/pixabay-api';\nimport { createImages, clearImages } from './js/render-functions';\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  clearImages();\n  event.preventDefault();\n  loader.classList.remove('hidden');\n  let wordForSearch = input.value.trim();\n  const page = 1;\n  if (wordForSearch === '') {\n    iziToast.error({\n      position: 'topRight',\n      message: 'Please fill the input',\n    });\n    loader.classList.add('hidden');\n    return;\n  }\n  searchImagesByQuery(wordForSearch, page)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        loader.classList.add('hidden');\n      } else {\n        createImages(data);\n        loader.classList.add('hidden');\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        position: 'topRight',\n        message: 'Failed to fetch images. Please try again later.',\n      });\n      loader.classList.add('hidden');\n    })\n    .finally(() => {\n      form.reset();\n    });\n}\n\nsetTimeout(() => {\n  loader.classList.add('hidden');\n}, 100);\n"],"names":["URL","API_KEY","searchImagesByQuery","query","response","error","createImages","data","lightbox","SimpleLightbox","list","images","hit","clearImages","form","input","loader","handleSubmit","event","wordForSearch","iziToast"],"mappings":"6vBAAA,MAAMA,EAAM,2BACNC,EAAU,qCAED,SAASC,EAAoBC,EAAO,CACjD,OAAO,MACL,GAAGH,CAAG,QAAQC,CAAO,MAAM,mBACzBE,CACD,CAAA,0DACF,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,SAAS,MAAM,CACb,SAAU,WACV,QAAS,2BAA2BA,EAAM,OAAO,EACzD,CAAO,CACP,CAAK,CACL,CClBO,SAASC,EAAaC,EAAM,CACjC,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EACKC,EAAO,SAAS,cAAc,eAAe,EACnD,IAAIC,EAASJ,EAAK,KACf,IACCK,GACE,sCAAsCA,EAAI,aAAa,6BAA6BA,EAAI,YAAY,UAAUA,EAAI,IAAI,8EAA8EA,EAAI,KAAK,sDAAsDA,EAAI,KAAK,yDAAyDA,EAAI,QAAQ,0DAA0DA,EAAI,SAAS,wBAC3Z,EACA,KAAK,EAAE,EACVF,EAAK,mBAAmB,aAAcC,CAAM,EAC5CH,EAAS,QAAO,CAClB,CAEO,SAASK,GAAc,CAC5B,MAAMH,EAAO,SAAS,cAAc,eAAe,EACnDA,EAAK,UAAY,EACnB,CCjBA,MAAMI,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BL,IACAK,EAAM,eAAc,EACpBF,EAAO,UAAU,OAAO,QAAQ,EAChC,IAAIG,EAAgBJ,EAAM,MAAM,KAAI,EAEpC,GAAII,IAAkB,GAAI,CACxBC,EAAS,MAAM,CACb,SAAU,WACV,QAAS,uBACf,CAAK,EACDJ,EAAO,UAAU,IAAI,QAAQ,EAC7B,MACD,CACDd,EAAoBiB,CAAmB,EACpC,KAAKZ,GAAQ,CACRA,EAAK,QAAU,GACjBa,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EACDJ,EAAO,UAAU,IAAI,QAAQ,IAE7BV,EAAaC,CAAI,EACjBS,EAAO,UAAU,IAAI,QAAQ,EAErC,CAAK,EACA,MAAMX,GAAS,CACde,EAAS,MAAM,CACb,SAAU,WACV,QAAS,iDACjB,CAAO,EACDJ,EAAO,UAAU,IAAI,QAAQ,CACnC,CAAK,EACA,QAAQ,IAAM,CACbF,EAAK,MAAK,CAChB,CAAK,CACL,CAEA,WAAW,IAAM,CACfE,EAAO,UAAU,IAAI,QAAQ,CAC/B,EAAG,GAAG"}